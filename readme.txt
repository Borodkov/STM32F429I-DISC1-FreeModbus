Задание для Discovery. Использовать Keil и CudeMX.

 

1. Чтение времени из встроенного модуля часов реального времени.
2. Измерение температуры кристалла встроенным датчиком температуры.
3. Вывод замеров температуры (скользящее среднее из 8 замеров) через последовательный интерфейс UART в терминальную программу на компьютере со штампом времени раз в секунду. Формат: день недели (три знака) год, месяц, день месяца, час, минута, секунда, температура с десятыми (в гр. Цельсия).
4. Прекращение и возобновление вывода температуры в UART по нажатию кнопки.
5. Измерение расстояния ультразвуковым датчиком. Вывод результатов на светодиодную шкалу из 4х светодиодов по полметра на каждый
6. Каждый процесс  (измерения, вычисления, опрос состояния кнопки, вывод) оформить в виде задачи (task) в планировщике FreeRTOS.
7. Разработка через GIT с доступом для нас.
8. В проект интегрировать протокол modbus из репозитория https://github.com/chrismerck/freemodbus
   В устройстве реализовать slave. На компьютере - master.
9. В сервер (slave) добавить:
 9.1 функцию опроса времени с возвратом времени в формате в соответствии с  п.3.
 9.2 функцию задания времени с мастера.
10. При синхронизации времени (после получения команды по п 9.2) вычислять значение для калибровки часов.
11. Реализовать автоматическую регулярную автокалибровку часов.